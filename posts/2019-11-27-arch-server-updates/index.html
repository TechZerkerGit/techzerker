<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Arch Linux: Blind Updating, PostgreSQL and MiniFlux - TechZerker</title><meta name="Description" content="A Tech Professional With Occasional Sanity"><meta property="og:title" content="Arch Linux: Blind Updating, PostgreSQL and MiniFlux" />
<meta property="og:description" content="Among the #self-hosted projects that I run just for my own usage, I have a VPS server running Arch Linux. (Yes, I&rsquo;m running an Arch server, instead of Ubuntu/Debian)
That little VPS runs a few different services:

Minecraft server for a group of friends, which is the heavy memory user
Write Freely instances for a few subjects
Subsonic Music streaming server
Resilio Sync encrypted storage target
MiniFlux RSS Server/Reader
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://techzerker.com/posts/2019-11-27-arch-server-updates/" /><meta property="og:image" content="https://techzerker.com/TechzerkerE30_wText.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-11-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-11-27T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://techzerker.com/TechzerkerE30_wText.png"/>

<meta name="twitter:title" content="Arch Linux: Blind Updating, PostgreSQL and MiniFlux"/>
<meta name="twitter:description" content="Among the #self-hosted projects that I run just for my own usage, I have a VPS server running Arch Linux. (Yes, I&rsquo;m running an Arch server, instead of Ubuntu/Debian)
That little VPS runs a few different services:

Minecraft server for a group of friends, which is the heavy memory user
Write Freely instances for a few subjects
Subsonic Music streaming server
Resilio Sync encrypted storage target
MiniFlux RSS Server/Reader
"/>
<meta name="application-name" content="TechZerker: A Tech Professional With Occasional Sanity">
<meta name="apple-mobile-web-app-title" content="TechZerker: A Tech Professional With Occasional Sanity"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://techzerker.com/posts/2019-11-27-arch-server-updates/" /><link rel="prev" href="https://techzerker.com/posts/2019-09-05-timeconcepts/" /><link rel="next" href="https://techzerker.com/posts/2020/2020-02-18-pinebook-pro/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Arch Linux: Blind Updating, PostgreSQL and MiniFlux",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/techzerker.com\/posts\/2019-11-27-arch-server-updates\/"
        },"genre": "posts","keywords": "Linux, Arch, Arch Linux, MiniFlux, PostgreSQL","wordcount":  563 ,
        "url": "https:\/\/techzerker.com\/posts\/2019-11-27-arch-server-updates\/","datePublished": "2019-11-27T00:00:00+00:00","dateModified": "2019-11-27T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": "Scott"},"author": {
                "@type": "Person",
                "name": "Scott"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="TechZerker"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/TechzerkerE30_woText_Trans.png"
        data-srcset="/TechzerkerE30_woText_Trans.png, /TechzerkerE30_woText_Trans.png 1.5x, /TechzerkerE30_woText_Trans.png 2x"
        data-sizes="auto"
        alt="/TechzerkerE30_woText_Trans.png"
        title="/TechzerkerE30_woText_Trans.png" /><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/blogroll/"> Blogroll </a><a class="menu-item" href="/categories/links/"> Links </a><a class="menu-item" href="/reading/"> Reading </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/tags/"> Tags </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="TechZerker"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/TechzerkerE30_woText_Trans.png"
        data-srcset="/TechzerkerE30_woText_Trans.png, /TechzerkerE30_woText_Trans.png 1.5x, /TechzerkerE30_woText_Trans.png 2x"
        data-sizes="auto"
        alt="/TechzerkerE30_woText_Trans.png"
        title="/TechzerkerE30_woText_Trans.png" /><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/blogroll/" title="">Blogroll</a><a class="menu-item" href="/categories/links/" title="">Links</a><a class="menu-item" href="/reading/" title="">Reading</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/tags/" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Arch Linux: Blind Updating, PostgreSQL and MiniFlux</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://techzerker.com" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Scott</a></span>&nbsp;<span class="post-category">included in <a href="/categories/tech/"><i class="far fa-folder fa-fw"></i>Tech</a>&nbsp;<a href="/categories/linux/"><i class="far fa-folder fa-fw"></i>Linux</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-11-27">2019-11-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;563 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p>Among the #self-hosted projects that I run just for my own usage, I have a <a href="https://www.vultr.com/?ref=7975116-4F">VPS server running Arch Linux</a>. (Yes, I&rsquo;m running an Arch server, instead of Ubuntu/Debian)</p>
<p>That little VPS runs a few different services:</p>
<ul>
<li>Minecraft server for a group of friends, which is the heavy memory user</li>
<li><a href="https://writefreely.org">Write Freely</a> instances for a few subjects</li>
<li>Subsonic Music streaming server</li>
<li>Resilio Sync encrypted storage target</li>
<li>MiniFlux RSS Server/Reader</li>
</ul>
<p>In general, it ticks along without much need for attention. Usually it&rsquo;s biggest time demands are after each major Minecraft version update (11.x, 12.x, etc.) to adjust settings as it gets more and more resource hungry.</p>
<blockquote>
<p>FYI: The best solution on 14.x now has been <a href="https://papermc.io/">PaperMC</a></p>
</blockquote>
<p>Given I work in tech and personally work with Arch Linux plenty, I make sure to run updates on the server weekly, and they almost always are pretty basic updates without much significance. Generally update with my AUR Helper, check the applications, and off I go.</p>
<p>This time around this past weekend, but only discovered last night, the updates included an update of PostgreSQL from 11.6 to 12.x. On this server, MiniFlux RSS uses PostgreSQL for it&rsquo;s backend, and it works well. However, in my past experience I have never had anything use PostgreSQL to have had much awareness about it&rsquo;s sensitivity in upgrading versions. As such, the update itself did not fail, but when I went to check my Android app which pulls from MiniFlux (via Fever API), it showed it had not pulled for several days.</p>
<p>A quick investigation showed that MiniFlux itself did not have an update, but PostgreSQL had indeed updated and the service would not start, according to systemd. A quick check in journalctl -xe, and the source was found as incompatible database versions for PostgreSQL.</p>
<p>From that point, it was thankfully not a hard fix, likely because the database for the RSS system is not that large or complex. Referring to the faithful <a href="https://wiki.archlinux.org/index.php/PostgreSQL#Upgrading_PostgreSQL">Arch Wiki</a> sent me through a few commands to migrate the data to a backup folder, initialize a new database set under version 12, and then use the <code>pg_upgrade</code> function to upgrade the database to that version. PG_Upgrade did it&rsquo;s job without fail on the first run, and I was able to then start the PostgreSQL service, followed by a restart of the MiniFlux service.</p>
<p>All in all, not a hard process or experience, just a good reminder to keep an eye on packages updating. It&rsquo;s ideal to be aware of what you are updating, but sometimes an innocent looking update breaks things. When it&rsquo;s a hobby server, keep good backups and be willing to research the fix, and you&rsquo;ll learn a bit along the way.</p>
<p>I&rsquo;m not sure what my next project will be to add to my #Self-Hosted systems, but I&rsquo;ve started catching up on the <a href="https://selfhosted.show/">Self-Hosted Podcast</a> from Jupiter Broadcasting, so I&rsquo;m sure I&rsquo;ll discover something new!</p>
<p>If you don&rsquo;t yet #Self-Host and are looking for a project, I run my projects currently on Vultr, and sticking with plain <a href="https://www.vultr.com/?ref=7975116-4F">direct referral link</a>, you can help me out by giving <a href="https://www.vultr.com/?ref=7975116-4F">Vultr</a> a try with $50 worth of hosting, and it helps me out as well.</p>
<blockquote>
<p>I have a About / Privacy page linked at the top where I talk about my privacy rules: Text only referral links, no cookies/trackers, no ugly banners or graphics interrupting the writing.</p>
</blockquote></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-11-27</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/posts/2019-11-27-arch-server-updates/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux" data-via="Techzerker" data-hashtags="Linux,Arch,Arch Linux,MiniFlux,PostgreSQL"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on WhatsApp" data-sharer="whatsapp" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on Instapaper" data-sharer="instapaper" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux" data-description=""><i data-svg-src="/lib/simple-icons/icons/instapaper.min.svg"></i></a><a href="javascript:void(0);" title="Share on Pocket" data-sharer="pocket" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/"><i class="fab fa-get-pocket fa-fw"></i></a><a href="javascript:void(0);" title="Share on Digg" data-sharer="digg" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/"><i class="fab fa-digg fa-fw"></i></a><a href="javascript:void(0);" title="Share on StumbleUpon" data-sharer="stumbleupon" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux"><i class="fab fa-stumbleupon fa-fw"></i></a><a href="javascript:void(0);" title="Share on Flipboard" data-sharer="flipboard" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux"><i class="fab fa-flipboard fa-fw"></i></a><a href="javascript:void(0);" title="Share on Evernote" data-sharer="evernote" data-url="https://techzerker.com/posts/2019-11-27-arch-server-updates/" data-title="Arch Linux: Blind Updating, PostgreSQL and MiniFlux"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">Linux</a>,&nbsp;<a href="/tags/arch/">Arch</a>,&nbsp;<a href="/tags/arch-linux/">Arch Linux</a>,&nbsp;<a href="/tags/miniflux/">Miniflux</a>,&nbsp;<a href="/tags/postgresql/">PostgreSQL</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/2019-09-05-timeconcepts/" class="prev" rel="prev" title="Concepts of Time"><i class="fas fa-angle-left fa-fw"></i>Concepts of Time</a>
            <a href="/posts/2020/2020-02-18-pinebook-pro/" class="next" rel="next" title="ARM Systems and the 2019 Pinebook Pro">ARM Systems and the 2019 Pinebook Pro<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line"><b>PH</b></div><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.86.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://techzerker.com" target="_blank">Scott</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"data":{"id-1":"TechZerker","id-2":"TechZerker"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
